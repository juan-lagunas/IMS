{% load static tailwind_tags %}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}{% endblock %}</title>
    <link href="{% static 'fontawesomefree/css/fontawesome.css' %}" rel="stylesheet" type="text/css">
    <link href="{% static 'fontawesomefree/css/brands.css' %}" rel="stylesheet" type="text/css">
    <link href="{% static 'fontawesomefree/css/solid.css' %}" rel="stylesheet" type="text/css">
    {% tailwind_css %}

    <style>
        ::-webkit-scrollbar {
            width: 0;  /* Remove scrollbar space */
            background: transparent;  /* Optional: just make scrollbar invisible */
        }
    </style>
    
</head>
<body class="bg-zinc-200 text-zinc-900 dark:bg-black dark:text-white">
    <div class="flex h-screen">
        <div 
            class="
                hidden
                lg:flex
                flex-col
                items-center
                justify-center
                h-fit
                w-fit
                my-auto
                rounded-full
                p-2
                bg-white
                dark:bg-[rgb(12,12,12)]
                mx-4
                transition
                ease-in-out
                duration-200
                text-zinc-900
                dark:text-zinc-400
            "
        >
            <div class="h-12 aspect-1 relative rounded-full group hover:bg-black hover:text-white">
                <a href="/" class="rounded-full h-full w-full flex items-center justify-center"><i class="fa-solid fa-house fa-lg"></i></a>
                <div class="absolute left-16 top-0 h-12 w-24 flex items-center justify-center text-sm font-semibold bg-black dark:bg-[rgb(26,26,26)] z-10 rounded-md invisible group-hover:visible">Dashboard</div>
            </div>

            <div class="h-12 aspect-1 relative rounded-full group hover:bg-black hover:text-white">
                <a href="/projects" class="rounded-full h-full w-full flex items-center justify-center"><i class="fa-solid fa-folder fa-lg"></i></a>
                <div class="absolute left-16 top-0 h-12 w-24 flex items-center justify-center text-sm font-semibold bg-black dark:bg-[rgb(26,26,26)] z-10 rounded-md invisible group-hover:visible">Projects</div>
            </div>

            <div class="h-12 aspect-1 relative rounded-full group hover:bg-black hover:text-white">
                <a href="/scanner" class="rounded-full h-full w-full flex items-center justify-center"><i class="fa-solid fa-barcode fa-lg"></i></a>
                <div class="absolute left-16 top-0 h-12 w-24 flex items-center justify-center text-sm font-semibold bg-black dark:bg-[rgb(26,26,26)] z-10 rounded-md invisible group-hover:visible">Scanner</div>
            </div>

            <div class="h-12 aspect-1 relative rounded-full group hover:bg-black hover:text-white">
                <a href="search" class="rounded-full h-full w-full flex items-center justify-center"><i class="fa-solid fa-search fa-lg"></i></a>
                <div class="absolute left-16 top-0 h-12 w-24 flex items-center justify-center text-sm font-semibold bg-black dark:bg-[rgb(26,26,26)] z-10 rounded-md invisible group-hover:visible">Search</div>
            </div>

            <div class="h-12 aspect-1 relative rounded-full group hover:bg-black hover:text-white">
                <button id="theme-toggle" href="search" class="rounded-full h-full w-full flex items-center justify-center"><i class="fa-solid fa-moon fa-lg"></i></i></button>
            </div>

        </div>

        
        <div class="flex flex-col flex-1 h-full lg:py-4 lg:pr-4">
            <div class="w-full h-full overoverflow-hidden overflow-y-auto lg:rounded-xl bg-white dark:bg-[#121212]">
                <header class="h-fit py-4 px-6 select-none flex justify-between">
                    <a href="" class="font-bold text-2xl">PBJ.</a>
                    <div class="flex gap-4">
                        <a href="" class="text-white flex items-center justify-center rounded-full aspect-1 h-10 bg-gradient-to-r from-pink-500 via-red-500 to-yellow-500 hover:scale-105 transition ease-in-out">JL</a>
                    </div>
                </header>
                
                {% block body %}
                
                {% endblock %}
            </div>

            <div class="flex items-center justify-center gap-4 lg:hidden">
                <div class="h-12 aspect-1 relative rounded-full group hover:bg-black hover:text-white">
                    <a href="/" class="rounded-full h-full w-full flex items-center justify-center"><i class="fa-solid fa-house fa-lg"></i></a>
                </div>

                <div class="h-12 aspect-1 relative rounded-full group hover:bg-black hover:text-white">
                    <a href="/projects" class="rounded-full h-full w-full flex items-center justify-center"><i class="fa-solid fa-folder fa-lg"></i></a>
                </div>
    
                <div class="h-12 aspect-1 relative rounded-full group hover:bg-black hover:text-white">
                    <a href="/scanner" class="rounded-full h-full w-full flex items-center justify-center"><i class="fa-solid fa-barcode fa-lg"></i></a>
                </div>

                <div class="h-12 aspect-1 relative rounded-full group hover:bg-black hover:text-white">
                    <a href="search" class="rounded-full h-full w-full flex items-center justify-center"><i class="fa-solid fa-search fa-lg"></i></a>
                </div>
            </div>
        </div>

    </div>

    <script>

        if (localStorage.getItem('color-theme') === 'dark' || (!('color-theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
            document.documentElement.classList.add('dark');
        } else {
            document.documentElement.classList.remove('dark')
        }

        var themeToggleBtn = document.getElementById('theme-toggle');

        themeToggleBtn.addEventListener('click', function() {

            // if set via local storage previously
            if (localStorage.getItem('color-theme')) {
                if (localStorage.getItem('color-theme') === 'light') {
                    document.documentElement.classList.add('dark');
                    localStorage.setItem('color-theme', 'dark');
                } else {
                    document.documentElement.classList.remove('dark');
                    localStorage.setItem('color-theme', 'light');
                }

            // if NOT set via local storage previously
            } else {
                if (document.documentElement.classList.contains('dark')) {
                    document.documentElement.classList.remove('dark');
                    localStorage.setItem('color-theme', 'light');
                } else {
                    document.documentElement.classList.add('dark');
                    localStorage.setItem('color-theme', 'dark');
                }
            }
            
        });

    </script>
</body>
</html>